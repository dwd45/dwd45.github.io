"use strict";const spollersArray=document.querySelectorAll("[data-spollers]");if(spollersArray.length>0){const e=Array.from(spollersArray).filter((function(e,t,s){return!e.dataset.spollers.split(",")[0]}));e.length>0&&initSpollers(e);const t=Array.from(spollersArray).filter((function(e,t,s){return e.dataset.spollers.split(",")[0]}));if(t.length>0){const e=[];t.forEach(t=>{const s={},o=t.dataset.spollers.split(",");s.value=o[0],s.type=o[1]?o[1].trim():"max",s.item=t,e.push(s)});let s=e.map((function(e){return"("+e.type+"-width:"+e.value+"px),"+e.value+","+e.type}));s=s.filter((function(e,t,s){return s.indexOf(e)===t})),s.forEach(t=>{const s=t.split(","),o=s[1],n=s[2],l=window.matchMedia(s[0]),i=e.filter((function(e){if(e.value===o&&e.type===n)return!0}));l.addListener((function(){initSpollers(i,l)})),initSpollers(i,l)})}function initSpollers(e,t=!1){e.forEach(e=>{e=t?e.item:e,t.matches||!t?(e.classList.add("_init"),initSpollerBody(e),e.addEventListener("click",setSpollerAction)):(e.classList.remove("_init"),initSpollerBody(e,!1),e.removeEventListener("click",setSpollerAction))})}function initSpollerBody(e,t=!0){const s=e.querySelectorAll("[data-spoller]");s.length>0&&s.forEach(e=>{t?(e.removeAttribute("tabindex"),e.classList.contains("_active")||(e.nextElementSibling.hidden=!0)):(e.setAttribute("tabindex","-1"),e.nextElementSibling.hidden=!1)})}function setSpollerAction(e){const t=e.target;if(t.hasAttribute("data-spoller")||t.closest("[data-spoller]")){const s=t.hasAttribute("data-spoller")?t:t.closest("[data-spoller]"),o=s.closest("[data-spollers]"),n=!!o.hasAttribute("data-one-spoller");o.querySelectorAll("._slide").length||(n&&!s.classList.contains("_active")&&hideSpollersBody(o),s.classList.toggle("_active"),_slideToggle(s.nextElementSibling,500)),e.preventDefault()}}function hideSpollersBody(e){const t=e.querySelector("[data-spoller]._active");t&&(t.classList.remove("_active"),_slideUp(t.nextElementSibling,500))}}let _slideUp=(e,t=500)=>{e.classList.contains("_slide")||(e.classList.add("_slide"),e.style.transitionProperty="margin , padding , height",e.style.transitionDuration=t+"ms",e.style.height="height + px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout(()=>{e.hidden=!0,e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margine-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")},t))},_slideDown=(e,t=500)=>{if(!e.classList.contains("_slide")){e.classList.add("_slide"),e.hidden&&(e.hidden=!1);let s=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="margin , padding , height",e.style.transitionDuration=t+"ms",e.style.height=s+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margine-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")},t)}},_slideToggle=(e,t=500)=>e.hidden?_slideDown(e,t):_slideUp(e,t),ua=window.navigator.userAgent,msie=ua.indexOf("MSIE"),isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};function isIE(){return ua=navigator.userAgent,ua.indexOf("MSIE ")>-1||ua.indexOf("Trident/")>-1}function ibg(){let e=document.querySelectorAll("._ibg");for(var t=0;t<e.length;t++)e[t].querySelector("img")&&(e[t].style.backgroundImage="url("+e[t].querySelector("img").getAttribute("src")+")")}isIE&&document.querySelector("html").classList.add("ie"),isMobile.any()&&document.querySelector("html").classList.add("_touch"),ibg();let sliders=document.querySelectorAll("._swiper");if(sliders){for(let e=0;e<sliders.length;e++){let t=sliders[e];if(!t.classList.contains("swiper-bild")){let e=t.children;if(e)for(let t=0;t<e.length;t++){e[t].classList.add("swiper-slide")}let s=t.innerHTML,o=document.createElement("div");if(o.classList.add("swiper-wrapper"),o.innerHTML=s,t.innerHTML="",t.appendChild(o),t.classList.add("swiper-bild"),t.classList.contains("_swiper_scroll")){let e=document.createElement("div");e.classList.add("swiper-scrollbar"),e.appendChild(e)}}t.classList.contains("_gallary")}sliders_bild_callback()}function sliders_bild_callback(e){}let sliderScrollItems=document.querySelectorAll("._swiper_scroll");if(sliderScrollItems.length>0)for(let e=0;e<sliderScrollItems.length;e++){const t=sliderScrollItems[e],s=t.querySelector(".swiper-scrollbar");new Swiper(t,{observer:!0,observeParents:!0,direction:"horizontal",slidesPerView:auto,freeMode:!0,scrollbar:{el:s,draggable:!0,snapOnRelease:!1},mousewheel:{releaseOnEdges:!0}}).scrollBar.updateSize()}function sliders_bild_callback(e){}document.querySelector(".slider-main__body")&&new Swiper(".slider-main__body",{observer:!0,observeParents:!0,direction:"horizontal",slidesPerView:1,spaceBetween:32,watchOverflow:!0,speed:800,loop:!0,loopAdditionalSlides:5,preloadImages:!1,parallax:!0,navigation:{nextEl:".slider-main .slider-arrow_next",prevEl:".slider-main .slider-arrow_prev"}});const IconMenu=document.querySelector(".icon-menu");if(IconMenu){const e=document.querySelector(".menu__body");IconMenu.addEventListener("click",(function(t){IconMenu.classList.toggle("_active"),e.classList.toggle("_active")}))}const headerElement=document.querySelector(".header"),callback=function(e,t){e[0].isIntersecting?headerElement.classList.remove("_scroll"):headerElement.classList.add("_scroll")},headerObserver=new IntersectionObserver(callback);function DynamicAdapt(e){this.type=e}headerObserver.observe(headerElement),DynamicAdapt.prototype.init=function(){const e=this;this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=document.querySelectorAll("[data-da]");for(let e=0;e<this.nodes.length;e++){const t=this.nodes[e],s=t.dataset.da.trim().split(","),o={};o.element=t,o.parent=t.parentNode,o.destination=document.querySelector(s[0].trim()),o.breakpoint=s[1]?s[1].trim():"767",o.place=s[2]?s[2].trim():"last",o.index=this.indexInParent(o.parent,o.element),this.оbjects.push(o)}this.arraySort(this.оbjects),this.mediaQueries=Array.prototype.map.call(this.оbjects,(function(e){return"("+this.type+"-width: "+e.breakpoint+"px),"+e.breakpoint}),this),this.mediaQueries=Array.prototype.filter.call(this.mediaQueries,(function(e,t,s){return Array.prototype.indexOf.call(s,e)===t}));for(let t=0;t<this.mediaQueries.length;t++){const s=this.mediaQueries[t],o=String.prototype.split.call(s,","),n=window.matchMedia(o[0]),l=o[1],i=Array.prototype.filter.call(this.оbjects,(function(e){return e.breakpoint===l}));n.addListener((function(){e.mediaHandler(n,i)})),this.mediaHandler(n,i)}},DynamicAdapt.prototype.mediaHandler=function(e,t){if(e.matches)for(let e=0;e<t.length;e++){const s=t[e];s.index=this.indexInParent(s.parent,s.element),this.moveTo(s.place,s.element,s.destination)}else for(let e=0;e<t.length;e++){const s=t[e];s.element.classList.contains(this.daClassname)&&this.moveBack(s.parent,s.element,s.index)}},DynamicAdapt.prototype.moveTo=function(e,t,s){t.classList.add(this.daClassname),"last"===e||e>=s.children.length?s.insertAdjacentElement("beforeend",t):"first"!==e?s.children[e].insertAdjacentElement("beforebegin",t):s.insertAdjacentElement("afterbegin",t)},DynamicAdapt.prototype.moveBack=function(e,t,s){t.classList.remove(this.daClassname),void 0!==e.children[s]?e.children[s].insertAdjacentElement("beforebegin",t):e.insertAdjacentElement("beforeend",t)},DynamicAdapt.prototype.indexInParent=function(e,t){const s=Array.prototype.slice.call(e.children);return Array.prototype.indexOf.call(s,t)},DynamicAdapt.prototype.arraySort=function(e){"min"===this.type?Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:e.place-t.place:e.breakpoint-t.breakpoint})):Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:t.place-e.place:t.breakpoint-e.breakpoint}))};const da=new DynamicAdapt("max");da.init();const ButtonOpen=document.querySelectorAll(".open"),body=document.querySelector("body");if(ButtonOpen){const e=document.querySelector(".product");ButtonOpen.forEach(t=>{t.addEventListener("click",t=>{body.classList.add("_no-scroll"),e.classList.add("_open"),ButtonOpen.classList.add("_open"),t.preventDefault()})})}const ButtonClose=document.querySelector(".close");if(ButtonClose){const e=document.querySelector("body"),t=document.querySelector(".product");ButtonClose.addEventListener("click",(function(s){ButtonClose.classList.remove("_open"),t.classList.remove("_open"),e.classList.remove("_no-scroll"),e.style.overflow=""}))}const swiper=new Swiper(".swiper",{direction:"horizontal",loop:!0,pagination:{el:".swiper-pagination"},navigation:{nextEl:".product__button-next",prevEl:".product__button-prev"}}),CLASS_NAME_SELECT="select",CLASS_NAME_ACTIVE="select_show",CLASS_NAME_SELECTED="select__option_selected",SELECTOR_ACTIVE=".select_show",SELECTOR_DATA="[data-select]",SELECTOR_DATA_TOGGLE='[data-select="toggle"]',SELECTOR_OPTION_SELECTED=".select__option_selected";class CustomSelect{constructor(e,t){this._elRoot="string"==typeof e?document.querySelector(e):e,this._params=t||{},this._params.options&&(this._elRoot.classList.add("select"),this._elRoot.innerHTML=CustomSelect.template(this._params)),this._elToggle=this._elRoot.querySelector(SELECTOR_DATA_TOGGLE),this._elRoot.addEventListener("click",this._onClick.bind(this))}_onClick(e){const t=e.target;switch(t.closest(SELECTOR_DATA).dataset.select){case"toggle":this.toggle();break;case"option":this._changeValue(t)}}_update(e){const t=this._elRoot.querySelector(SELECTOR_OPTION_SELECTED);return t&&t.classList.remove(CLASS_NAME_SELECTED),e.classList.add(CLASS_NAME_SELECTED),this._elToggle.textContent=e.textContent,this._elToggle.value=e.dataset.value,this._elToggle.name=e.dataset.name,this._elToggle.dataset.index=e.dataset.index,this._elRoot.dispatchEvent(new CustomEvent("select.change")),this._params.onSelected&&this._params.onSelected(this,e),e.dataset.value}_reset(){const e=this._elRoot.querySelector(SELECTOR_OPTION_SELECTED);return e&&e.classList.remove(CLASS_NAME_SELECTED),this._elToggle.textContent="Выберите из списка",this._elToggle.value="",this._elToggle.name="",this._elToggle.dataset.index=-1,this._elRoot.dispatchEvent(new CustomEvent("select.change")),this._params.onSelected&&this._params.onSelected(this,null),""}_changeValue(e){e.classList.contains(CLASS_NAME_SELECTED)||(this._update(e),this.hide())}show(){document.querySelectorAll(".select_show").forEach(e=>{e.classList.remove("select_show")}),this._elRoot.classList.add("select_show")}hide(){this._elRoot.classList.remove("select_show")}toggle(){this._elRoot.classList.contains("select_show")?this.hide():this.show()}dispose(){this._elRoot.removeEventListener("click",this._onClick)}get value(){return this._elToggle.value}set value(e){let t=!1;if(this._elRoot.querySelectorAll(".select__option").forEach(s=>s.dataset.value===e||s.dataset.name===e?(t=!0,this._update(s)):void 0),!t)return this._reset()}get selectedIndex(){return this._elToggle.dataset.index}set selectedIndex(e){const t=this._elRoot.querySelector(`.select__option[data-index="${e}"]`);return t?this._update(t):this._reset()}}CustomSelect.template=e=>{const t=e.name,s=e.options,o=e.targetValue;let n=[],l=-1,i="",r="Выберите из списка";return s.forEach((e,t)=>{let s="";e[0]===o&&(s=" select__option_selected",l=t,i=e[0],r=e[1]),n.push(`<li class="select__option${s}" data-select="option" data-value="${e[0]}" data-index="${t}">${e[1]}</li>`)}),`<button type="button" class="select__toggle" name="${t}" value="${i}" data-select="toggle" data-index="${l}">${r}</button>\n  <div class="select__dropdown">\n    <ul class="select__options">${n.join("")}</ul>\n  </div>`},document.addEventListener("click",e=>{e.target.closest(".select")||document.querySelectorAll(".select_show").forEach(e=>{e.classList.remove("select_show")})}),document.addEventListener("DOMContentLoaded",()=>{new CustomSelect("#select-1",{}),new CustomSelect("#select-2",{}),new CustomSelect("#select-3",{})});const SelectProjectType=document.querySelector(".select-project-type"),SelectProjectColor=document.querySelector(".select-project-color"),SelectProjectOption=document.querySelector(".select-project-option"),BtnsCheckbox=document.querySelectorAll(".btn-checkbox"),BtnsCheckboxDesing=document.querySelectorAll(".btn-checkbox-desing"),squareInput=document.querySelector(".square-input"),squareRange=document.querySelector(".square-range");let BtnsSelectType=document.querySelector(".select-type"),BtnsSelectColor=document.querySelector(".select-color"),BtnsSelectOption=document.querySelector(".select-option"),previousCost=document.getElementById("previous-cost");SelectProjectType.addEventListener("select.change",e=>{BtnsSelectType.classList.add("_selected"),calculation()}),SelectProjectColor.addEventListener("select.change",e=>{BtnsSelectColor.classList.add("_selected"),calculation()}),SelectProjectOption.addEventListener("select.change",e=>{BtnsSelectOption.classList.add("_selected"),calculation()});const pagePrice=50;squareRange.addEventListener("input",()=>{squareInput.value=squareRange.value}),squareInput.addEventListener("input",()=>{squareRange.value=squareInput.value});let BtnCheckboxDesing=0;for(let e of BtnsCheckboxDesing)e.addEventListener("input",()=>{!0===e.checked?(BtnCheckboxDesing+=parseInt(e.value),calculation()):(BtnCheckboxDesing-=parseInt(e.value),calculation(BtnCheckboxDesing))});let BtnCheckbox=0;for(let e of BtnsCheckbox)e.addEventListener("input",()=>{!0===e.checked?(BtnCheckbox+=parseInt(e.value),calculation()):(BtnCheckbox-=parseInt(e.value),calculation()),console.log(BtnCheckbox)});const calculation=()=>{let e=0;e+=50*parseInt(squareInput.value),e+=BtnCheckboxDesing,e+=BtnCheckbox,e+=parseInt(BtnsSelectColor.value),e+=parseInt(BtnsSelectType.value),e+=parseInt(BtnsSelectOption.value);const t=new Intl.NumberFormat("en");previousCost.innerHTML=e>0?`Price: <span>${t.format(e)}</span><span>$</span>`:"Price: <span>0</span><span>$</span>"};window.onload=function(){document.addEventListener("click",(function(e){const t=e.target;window.innerWidth>768&&isMobile.any()&&(t.classList.contains("menu_arrow")&&t.closest(".menu_item").classList.toggle("_hover"),!t.closest(".menu_item")&&document.querySelectorAll(".menu_item._hover"),length>0&&document.querySelectorAll(".menu_item._hover").classList.remove("_hover"))}))};